---
title: CFG配置
date: 2021-07-09 10:14:51
permalink: /csgowiki-pack/config/
categories:
  - csgowiki-pack
---
# CFG配置

::: tip 写在前面

默认的`csgowiki-pack.cfg`并不能直接拿去使用，需要进行更改。

文件的具体路径为：`<csgo base>/cfg/sourcemod/csgowiki-pack.cfg`。

:::

## 初始配置

```c
// This file was auto-generated by SourceMod (v1.10.0.6488)
// ConVars for plugin "csgowiki-pack.smx"


// Alternative option for this setting is `https://api.mycsgolab.com` which source in Hongkong
// -
// Default: "https://apiproxy.mycsgolab.com:5555"
sm_csgowiki_apihost "https://apiproxy.mycsgolab.com:5555"

// Set wether enable csgowiki plugins or not. Set 0 will disable all modules belong to CSGOWiki.
// -
// Default: "0"
sm_csgowiki_enable "0"

// Make sure csgowiki token valid. Some modules will be disabled if csgowiki token invalid
// -
// Default: ""
sm_csgowiki_token ""

// Set wether enable qqchat or not, use `!qq <msg>` trigger qqchat when convar set 1
// -
// Default: "0"
sm_qqchat_enable "0"

// Bind qqgroup id to this server. ONE qqgroup only
// -
// Default: ""
sm_qqchat_qqgroup ""

// Set server name shown in qqchat
// -
// Default: ""
sm_qqchat_remark ""

// Set host of the current server. `net_public_adr` will be used if this convar set empty
// -
// Default: ""
sm_qqchat_sv_host ""

// Accept socket connect from channel. Remember to open this port
// -
// Default: "50000"
sm_qqchat_sv_port "50000"

// Set module: <utility_submit> on/off.
// -
// Default: "1"
sm_utility_submit_on "1"

// Set module: <utility_wiki> on/off.
// -
// Default: "1"
sm_utility_wiki_on "1"

// Set how long(min) can the player stay in server without binding csgowiki account. Set 0 to disable this kicker
// -
// Default: "0"
// Minimum: "0.000000"
// Maximum: "10.000000"
sm_wiki_auto_kick "0"

// Limit cooling time(second) for each player's `!wiki` request. Set 0 to unlimit
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "10.000000"
sm_wiki_request_limit "1"
```

## ConVar规范

::: tip 注解

[**ConVar**](https://wiki.alliedmods.net/ConVars_(SourceMod_Scripting))全称**Console Variables**，即控制台变量。

在插件中被引用之后可以通过更改ConVar的值改变服务器中的插件功能。

:::

| ConVar                  | 值类型  | 限制     | 备注                                                         |
| ----------------------- | ------- | -------- | ------------------------------------------------------------ |
| `sm_csgowiki_apihost`   | string  | 可用的CSGOWiki API | 服务器在国内填`https://apiproxy.mycsgolab.com:5555`，在国外填`https://api.mycsgolab.com` |
| `sm_csgowiki_enable`    | boolean | 0/1      | 是否开启该插件的功能，如果为0则禁用该插件的所有功能。        |
| `sm_csgowiki_token`     | string  | 无       | 在[**CSGOWiki社区服务页**](https://www.mycsgolab.com/tool/server/)中获取token，为用户的隐私数据，用于功能鉴权，**必须填写**。 |
| `sm_qqchat_enable`      | boolean | 0/1      | 是否开启QQ聊天功能（子功能）                                 |
| `sm_qqchat_qqgroup`     | string  | 无       | 当前服务器绑定的QQ群号，QQ群必须真实存在且QQ机器人在群内。   |
| `sm_qqchat_remark`      | string  | 无       | QQ机器人在群聊中转述服务器消息的前缀，默认使用中括号[]包围，不需要额外添加。 |
| `sm_qqchat_sv_host`     | string  | 无       | 当前服务器的主机标识，为空时会自动获取`net_public_adr`作为host，一般情况下留空。 |
| `sm_qqchat_sv_port`     | string  | 大于1024 | 服务器接收QQ群消息的端口，如果开启了QQ聊天功能，该端口须开放才能正常使用。 |
| `sm_utility_submit_on`  | boolean | 0/1      | 是否开启道具上传功能，根据[**CSGOWiki等级规范**](https://www.csgowiki.top/profile/exp/)，该功能开启需要用户CSGOWiki等级>=`Lv3`，插件会使用`sm_csgowiki_token`进行鉴权。 |
| `sm_utility_wiki_on`    | boolean | 0/1      | 是否开启道具合集获取功能，根据[**CSGOWiki等级规范**](https://www.csgowiki.top/profile/exp/)，该功能开启需要用户CSGOWiki等级>=`Lv1`，而道具的范围查找功能需要等级>=`Lv2`才有效，插件会使用`sm_csgowiki_token`进行鉴权。 |
| `sm_wiki_auto_kick`     | integer | [0,10]   | 是否自动踢出未绑定CSGOWiki账号的玩家。0为不踢出，大于0的值为延时多少分钟踢出。**非CSGOWiki官方服务器不建议开启**. |
| `sm_wiki_request_limit` | integer | [0,10]   | 是否限制玩家访问**社区道具合集**中道具详情的频率。0为不限制，大于0的值为最小请求间隔时间。 |



::: danger 更多解释

- QQ聊天功能支持**多个服务器对一个QQ群**，**一个服务器对应一个QQ群**。但是不支持**一个服务器对多个QQ群**，具体原因见[**消息中继服务**](../message-channel/README.md)。

- `sm_utility_wiki_on`控制的道具合集获取功能包括**社区道具合集**和**职业道具合集**。

- `sm_wiki_request_limit`只对玩家对**社区道具合集**的访问频率做限制。

:::


<Vssue/>
